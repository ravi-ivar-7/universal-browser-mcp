{"version":3,"file":"gemini.js","sourceRoot":"","sources":["../../../src/agent/engines/gemini.ts"],"names":[],"mappings":"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"}